<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="all.about.apartment.mappers.BidMapper">

	<insert id="create" parameterType="BidProductVO">
		insert into bidproduct(bid_id,bid_seller,bid_name,bid_start,
		bid_date,bid_time,bid_content,bid_filename)
		values(bid_seq.nextval,#{bid_seller},#{bid_name},#{bid_start},
		sysdate,#{bid_time},#{bid_content},#{bid_filename})
	</insert>
	
	
	<update id="readInsert" parameterType="BidProductVO">
		update bidproduct
		set bid_evaluation = #{bid_evaluation}
		where bid_id=#{bid_id}
		
		
	</update>
	
	<select id="read" resultType="BidProductVO">
		select
			*
		from
			bidproduct
		where bid_id>0
	</select>
	
	<select id="readDetail" resultType="BidProductVO">
		select
			bid_id,bid_seller,bid_name
		from
			bidproduct
		where bid_id = #{bid_id}
	</select>
	
	
	
	
	

	 <insert id="addAttach" parameterType="FileVO">
		insert into bidcontent(content_id,bid_id,content_filename)
		values (content_id_seq.nextval,#{bid_id},#{content_filename})
	</insert>
	 
	
   <select id="maxNum" resultType="int">
      select MAX(bid_id) from bidproduct
   </select>
   
   <select id="getAttach" resultType="string">
   	select content_filename from bidcontent where bid_id>0
   </select>
</mapper>